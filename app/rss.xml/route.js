import RSS from 'rss';
export async function GET(){const site='https://ivhub.com';const res=await fetch('https://iv-blogs.ivhub.com/blogslist',{ next:{ revalidate:3600 }});const data=await res.json();const blogs=data?.articlesData??[];const feed=new RSS({title:'IV Wellness Lounge Blogs',description:'Latest blog posts from IV Wellness Lounge Clinic',feed_url:`${site}/rss.xml`,site_url:`${site}/blogs/`,image_url:`${site}/og.png`,language:'en',pubDate:new Date(),});blogs.forEach(b=>{const slug=b.title.replace(/\s+/g,'-');feed.item({title:b.title,description:(b.metaDesc||b.desc?.replace(/<[^>]+>/g,'').slice(0,160))??'',url:`${site}/blogs/${slug}`,date:b.date||new Date(),enclosure:b.img?{url:`${site}/assets/img/blog/${b.img}`} : undefined,});});return new Response(feed.xml({indent:true}),{headers:{'Content-Type':'application/rss+xml'}});} 
